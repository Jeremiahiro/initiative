<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Cephalon Syntrofos</title>
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css">
        <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
        <style>.izzuhead {font-family: 'Inter', sans-serif !important;}</style>
    </head>
    <body onload="makeplec();">
        <div class="ui attached stackable menu izzuhead">
            <div class="ui container">
                <a class="item"><i class="home icon"></i> Home</a>
                <a class="item"><i class="grid layout icon"></i> About</a>
            </div>
        </div>
        <br/>
        <div class="ui container" id="body"></div>
        <div class="ui basic modal">
            <div class="ui icon header"><i class="file alternate outline icon"></i><span id="repottle"></span></div>
            <div class="content" style="text-align: center;">
                <p>Your inbox is getting full, would you like us to enable automatic archiving of old messages?</p>
                <table class="ui celled striped table">
                    <thead>
                        <tr><th colspan="2">#<span id="izzueide"></span>&nbsp;<span id="izzuenam"></span></th></tr>
                    </thead>
                    <tbody>
                        <tr><td class="left aligned collapsing">Author</td><td id="authornm"></td></tr>
                        <tr><td class="left aligned collapsing">State</td><td id="izzustat"></td></tr>
                        <tr><td class="left aligned collapsing">Created at</td><td id="makedate"></td></tr>
                        <tr><td class="left aligned collapsing">Updated at</td><td id="updtdate"></td></tr>
                        <tr><td class="left aligned collapsing">Assignees</td><td id="assignee"></td></tr>
                    </tbody>
                </table>
            </div>
            <div class="actions" style="text-align: center;">
                <div class="ui red basic cancel inverted button"><i class="remove icon"></i>No</div>
                <div class="ui green ok inverted button"><i class="checkmark icon"></i>Yes</div>
            </div>
        </div>
    </body>
    <script>
        function makeplec() {
            let repodict = {
                "astrosonic": {
                    "a001": "astrosonic/sanctuary"
                },
                "t0xic0der": {
                    "t001": "t0xic0der/syngrafias",
                    "t002": "t0xic0der/sanctuary-zero",
                }
            };
            for (indx in repodict)
            {
                $("#body").append("<h2 class='ui header teal izzuhead'><i class='github icon'></i><div class='content'>" + indx + "<div class='sub header'>Repository owner</div></div></h2>");
                for (jndx in repodict[indx])
                {
                    $("#body").append("<h3 class='ui header izzuhead'>" + repodict[indx][jndx] + "</h3>");
                    $("#body").append("<div class='ui relaxed divided list' id='" + jndx + "' style='margin-top: 20px;'></div>");
                    fetcizzu(jndx, repodict[indx][jndx]);
                }
            }
            $("#body").append("<br/>")
        }
        function fetcizzu(loca, reponame)
        {
            fetch("https://api.github.com/repos/" + reponame + "/issues")
                .then(res => res.json())
                .then((temp) => {
                    console.log(temp);
                    for (indx in temp)
                    {
                        let modifdom = "<div class='item'>" + "<i class='large file alternate outline middle aligned icon'></i>" + "<div class='content'>" +
                            "<a class='header izzuhead' herf='" + temp[indx]["html_url"] + "' onclick='toglmodl()'>#" + temp[indx]["number"] + " " + temp[indx]["title"] + "</a>" +
                            "<div class='description izzuhead'><strong>" + temp[indx]["state"].toUpperCase() + "</strong>, Created at " + temp[indx]["created_at"] + "</div>" + "</div>" + "</div>";
                        $("#"+loca).append(modifdom);
                    }
            }).catch(err => console.error(err));
        }
        function toglmodl() {
            $(".ui.basic.modal").modal("show");
        }
    </script>
</html>